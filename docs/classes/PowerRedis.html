<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>PowerRedis | power-redis API Docs - v2.0.8</title><meta name="description" content="Documentation for power-redis API Docs"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">power-redis API Docs - v2.0.8</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">PowerRedis</a></li></ul><h1>Class PowerRedis<code class="tsd-tag">Abstract</code></h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>Base helper for working with Redis in a safe and convenient way.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-remarks"><h4 class="tsd-anchor-link" id="remarks">Remarks<a href="#remarks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>This class wraps a single Redis client and gives you a small, consistent
toolkit for the most common operations:</p>
<ul>
<li><strong>Keys &amp; patterns</strong>: <code>toKeyString</code>, <code>toPatternString</code>, <code>fromKeyString</code></li>
<li><strong>Value (de)serialization</strong>: <code>toPayload</code>, <code>fromPayload</code> (JSON, numbers, booleans, etc.)</li>
<li><strong>Simple cache API</strong>: <code>getOne</code>, <code>getMany</code>, <code>setOne</code>, <code>setMany</code></li>
<li><strong>List helpers</strong>: <code>pushOne</code>, <code>pushMany</code>, <code>getList</code>, <code>getListIterator</code></li>
<li><strong>Scanning &amp; cleanup</strong>: <code>keys</code>, <code>dropMany</code></li>
<li><strong>Counters &amp; TTL</strong>: <code>incr</code>, <code>expire</code>, <code>pttl</code></li>
<li><strong>Streams &amp; scripts</strong>: <code>script</code>, <code>xgroup</code>, <code>xreadgroup</code></li>
</ul>
<p>The idea is that your business code works with typed JS values
(<code>Jsonish</code>) instead of raw strings and you get basic safety checks
(key format, limits, connection status) out of the box.</p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-basic-usage">Example: Basic usage<a href="#example-basic-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-5">class</span><span class="hl-1"> </span><span class="hl-6">AppRedis</span><span class="hl-1"> </span><span class="hl-5">extends</span><span class="hl-1"> </span><span class="hl-6">PowerRedis</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">: </span><span class="hl-6">IORedisLike</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-5">constructor</span><span class="hl-1">(</span><span class="hl-4">client</span><span class="hl-1">: </span><span class="hl-6">IORedisLike</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">super</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-4">redis</span><span class="hl-1"> = </span><span class="hl-4">client</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">appRedis</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">AppRedis</span><span class="hl-1">(</span><span class="hl-4">redisClient</span><span class="hl-1">);</span><br/><br/><span class="hl-9">// Save object as JSON with TTL</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">appRedis</span><span class="hl-1">.</span><span class="hl-0">setOne</span><span class="hl-1">(</span><span class="hl-2">&#39;user:1&#39;</span><span class="hl-1">, { </span><span class="hl-4">id:</span><span class="hl-1"> </span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Alice&#39;</span><span class="hl-1"> }, </span><span class="hl-7">60</span><span class="hl-1">);</span><br/><br/><span class="hl-9">// Read it back as a JS object</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">user</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">appRedis</span><span class="hl-1">.</span><span class="hl-0">getOne</span><span class="hl-1">(</span><span class="hl-2">&#39;user:1&#39;</span><span class="hl-1">); </span><span class="hl-9">// { id: 1, name: &#39;Alice&#39; }</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-4">Connection</span><span class="hl-1"> </span><span class="hl-4">safety</span><br/><span class="hl-2">`checkConnection()`</span><span class="hl-1"> </span><span class="hl-4">respects</span><span class="hl-1"> </span><span class="hl-4">the</span><span class="hl-1"> </span><span class="hl-2">`REDIS_STRICT_CHECK_CONNECTION`</span><span class="hl-1"> </span><span class="hl-4">env</span><span class="hl-1"> </span><span class="hl-5">var</span><span class="hl-1">:</span><br/><br/><span class="hl-1">- </span><span class="hl-2">`true`</span><span class="hl-1"> </span><span class="hl-10">/ `on` /</span><span class="hl-1"> </span><span class="hl-2">`yes`</span><span class="hl-1"> </span><span class="hl-10">/ `y` /</span><span class="hl-1"> </span><span class="hl-2">`1`</span><span class="hl-1"> → </span><span class="hl-4">only</span><span class="hl-1"> </span><span class="hl-2">`status === &#39;ready&#39;`</span><span class="hl-1"> </span><span class="hl-4">is</span><span class="hl-1"> </span><span class="hl-4">accepted</span><br/><span class="hl-1">- </span><span class="hl-4">otherwise</span><span class="hl-1"> </span><span class="hl-2">`connecting`</span><span class="hl-1"> / </span><span class="hl-2">`reconnecting`</span><span class="hl-1"> </span><span class="hl-4">are</span><span class="hl-1"> </span><span class="hl-4">also</span><span class="hl-1"> </span><span class="hl-4">treated</span><span class="hl-1"> </span><span class="hl-3">as</span><span class="hl-1"> </span><span class="hl-2">&quot;ok&quot;</span><br/><br/><span class="hl-4">This</span><span class="hl-1"> </span><span class="hl-4">helps</span><span class="hl-1"> </span><span class="hl-4">avoid</span><span class="hl-1"> </span><span class="hl-4">subtle</span><span class="hl-1"> </span><span class="hl-4">bugs</span><span class="hl-1"> </span><span class="hl-4">where</span><span class="hl-1"> </span><span class="hl-4">code</span><span class="hl-1"> </span><span class="hl-4">tries</span><span class="hl-1"> </span><span class="hl-4">to</span><span class="hl-1"> </span><span class="hl-4">use</span><span class="hl-1"> </span><span class="hl-4">Redis</span><span class="hl-1"> </span><span class="hl-4">before</span><span class="hl-1"> </span><span class="hl-4">it</span><span class="hl-1"> </span><span class="hl-4">is</span><span class="hl-1"> </span><span class="hl-4">ready</span><span class="hl-1">.</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-1">Example<a href="#example-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-4">When</span><span class="hl-1"> </span><span class="hl-4">to</span><span class="hl-1"> </span><span class="hl-4">extend</span><span class="hl-1"> </span><span class="hl-5">this</span><span class="hl-1"> </span><span class="hl-5">class</span><br/><span class="hl-6">Extend</span><span class="hl-1"> `</span><span class="hl-6">PowerRedis</span><span class="hl-1">` </span><span class="hl-6">when</span><span class="hl-1"> </span><span class="hl-6">you</span><span class="hl-1"> </span><span class="hl-6">want</span><span class="hl-1">:</span><br/><span class="hl-1">- </span><span class="hl-6">a</span><span class="hl-1"> **</span><span class="hl-6">single</span><span class="hl-1"> </span><span class="hl-6">place</span><span class="hl-1">** </span><span class="hl-6">to</span><span class="hl-1"> </span><span class="hl-6">configure</span><span class="hl-1"> </span><span class="hl-6">your</span><span class="hl-1"> </span><span class="hl-6">Redis</span><span class="hl-1"> </span><span class="hl-6">client</span><span class="hl-1">;</span><br/><span class="hl-1">- **</span><span class="hl-6">shared</span><span class="hl-1"> </span><span class="hl-6">helpers</span><span class="hl-1">** </span><span class="hl-6">for</span><span class="hl-1"> </span><span class="hl-6">all</span><span class="hl-1"> </span><span class="hl-6">your</span><span class="hl-1"> </span><span class="hl-6">services</span><span class="hl-1"> (</span><span class="hl-6">queues</span><span class="hl-1">, </span><span class="hl-6">caching</span><span class="hl-1">, </span><span class="hl-6">lists</span><span class="hl-1">, </span><span class="hl-6">etc</span><span class="hl-1">.);</span><br/><span class="hl-1">- </span><span class="hl-6">a</span><span class="hl-1"> **</span><span class="hl-6">junior</span><span class="hl-1">-</span><span class="hl-6">friendly</span><span class="hl-1"> </span><span class="hl-6">API</span><span class="hl-1">** </span><span class="hl-6">where</span><span class="hl-1"> </span><span class="hl-6">most</span><span class="hl-1"> </span><span class="hl-6">common</span><span class="hl-1"> </span><span class="hl-6">Redis</span><span class="hl-1"> </span><span class="hl-6">patterns</span><span class="hl-1"> </span><span class="hl-6">are</span><span class="hl-1"> </span><span class="hl-6">already</span><span class="hl-1"> </span><span class="hl-6">implemented</span><span class="hl-1">.</span>
</code><button type="button">Copy</button></pre>

</div></div></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L79">PowerRedis.ts:79</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h5 class="tsd-index-heading uppercase">Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Constructors</h3><div class="tsd-index-list"><a href="#constructor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Constructor"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Properties</h3><div class="tsd-index-list"><a href="#isstrictcheckconnection" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>is<wbr/>Strict<wbr/>Check<wbr/>Connection</span></a>
<a href="#redis" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>redis</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="#checkconnection" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>check<wbr/>Connection</span></a>
<a href="#dropmany" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>drop<wbr/>Many</span></a>
<a href="#expire" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>expire</span></a>
<a href="#fromkeystring" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>from<wbr/>Key<wbr/>String</span></a>
<a href="#frompayload" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>from<wbr/>Payload</span></a>
<a href="#getlist" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>List</span></a>
<a href="#getlistiterator" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>List<wbr/>Iterator</span></a>
<a href="#getmany" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Many</span></a>
<a href="#getone" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>One</span></a>
<a href="#incr" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>incr</span></a>
<a href="#keys" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>keys</span></a>
<a href="#lpopcountcompat" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>lpop<wbr/>Count<wbr/>Compat</span></a>
<a href="#pttl" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>pttl</span></a>
<a href="#pushmany" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>push<wbr/>Many</span></a>
<a href="#pushone" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>push<wbr/>One</span></a>
<a href="#script" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>script</span></a>
<a href="#setmany" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>set<wbr/>Many</span></a>
<a href="#setone" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>set<wbr/>One</span></a>
<a href="#tokeystring" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>to<wbr/>Key<wbr/>String</span></a>
<a href="#topatternstring" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>to<wbr/>Pattern<wbr/>String</span></a>
<a href="#topayload" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>to<wbr/>Payload</span></a>
<a href="#xgroup" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>xgroup</span></a>
<a href="#xreadgroup" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>xreadgroup</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Constructors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Constructors</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="constructor"><span>constructor</span><a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="constructorpowerredis"><span class="tsd-signature-keyword">new</span> <span class="tsd-kind-constructor-signature">PowerRedis</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-class">PowerRedis</a><a href="#constructorpowerredis" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><h4 class="tsd-returns-title">Returns <a href="" class="tsd-signature-type tsd-kind-class">PowerRedis</a></h4></div></li></ul></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Properties</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="isstrictcheckconnection"><code class="tsd-tag">Readonly</code><span>is<wbr/>Strict<wbr/>Check<wbr/>Connection</span><a href="#isstrictcheckconnection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">isStrictCheckConnection</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> = ...</span></div><div class="tsd-comment tsd-typography"><p>Determines whether Redis connection checks should operate in <strong>strict mode</strong>.</p>
<p>This flag controls the behavior of <a href="#checkconnection" class="tsd-kind-method">checkConnection</a>.<br>
It is derived from the environment variable:</p>
<pre><code><span class="hl-8">REDIS_STRICT_CHECK_CONNECTION</span>
</code><button>Copy</button></pre>

<hr>
<h3 id="strict-mode-" class="tsd-anchor-link">Strict mode (<code>true</code>)<a href="#strict-mode-" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Connection is considered valid <strong>only when</strong>:</p>
<ul>
<li><code>redis.status === &quot;ready&quot;</code></li>
</ul>
<p>Any other status (<code>&quot;connecting&quot;</code>, <code>&quot;reconnecting&quot;</code>, <code>&quot;end&quot;</code>, <code>&quot;close&quot;</code>)<br>
will be treated as <strong>not connected</strong>.</p>
<p>This mode is useful when:</p>
<ul>
<li>Running in production with strict safety guarantees</li>
<li>You must never send commands until Redis is fully ready</li>
<li>You want predictable error behavior during connection issues</li>
</ul>
<hr>
<h3 id="non-strict-mode-" class="tsd-anchor-link">Non-strict mode (<code>false</code>)<a href="#non-strict-mode-" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Connection is considered valid when:</p>
<ul>
<li><code>redis.status === &quot;ready&quot;</code></li>
<li><strong>or</strong> <code>redis.status === &quot;connecting&quot;</code></li>
<li><strong>or</strong> <code>redis.status === &quot;reconnecting&quot;</code></li>
</ul>
<p>This mode is more flexible and helpful when:</p>
<ul>
<li>Running background workers</li>
<li>Allowing commands during reconnection</li>
<li>Tolerating short connection interruptions</li>
</ul>
<hr>
<h3 id="environment-variable-values" class="tsd-anchor-link">Environment variable values<a href="#environment-variable-values" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The following values (case-insensitive, trimmed) enable strict mode:</p>
<pre><code><span class="hl-2">&quot;true&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;on&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;yes&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;y&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;1&quot;</span>
</code><button>Copy</button></pre>

<p>Any other value disables strict mode.</p>
<hr>
<h3 id="example-2" class="tsd-anchor-link">Example<a href="#example-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-4">isStrictCheckConnection</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Strict Redis connection checks enabled&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<hr>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-defaultValue"><h4 class="tsd-anchor-link" id="default-value">Default Value<a href="#default-value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><code>false</code> unless the environment variable matches a truthy value.</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L142">PowerRedis.ts:142</a></li></ul></aside></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="redis"><code class="tsd-tag">Abstract</code><span>redis</span><a href="#redis" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">redis</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/IORedisLike.html" class="tsd-signature-type tsd-kind-interface">IORedisLike</a></div><div class="tsd-comment tsd-typography"><p>The underlying Redis client instance used by <code>PowerRedis</code>.</p>
<p>This property is <strong>abstract</strong>, meaning:</p>
<ul>
<li>Every class extending <code>PowerRedis</code> <strong>must</strong> provide its own implementation.</li>
<li>It must be assigned a valid object that behaves like an ioredis client.</li>
</ul>
<hr>
<h3 id="expected-capabilities" class="tsd-anchor-link">Expected capabilities<a href="#expected-capabilities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The client must implement the essential Redis commands used throughout the class:</p>
<ul>
<li>Basic commands (<code>GET</code>, <code>SET</code>, <code>MGET</code>, <code>DEL</code>, <code>UNLINK</code>, <code>EXPIRE</code>, <code>PEXPIRE</code>, <code>PTTL</code>)</li>
<li>List operations (<code>RPUSH</code>, <code>LPOP</code>, <code>LRANGE</code>, <code>LLEN</code>, <code>LTRIM</code>)</li>
<li>Stream operations (<code>XGROUP</code>, <code>XREADGROUP</code>)</li>
<li>Scripting (<code>SCRIPT LOAD</code>)</li>
<li>Scanning (<code>SCAN</code>, optional <code>MULTI</code>)</li>
</ul>
<p>The type <a href="../interfaces/IORedisLike.html" class="tsd-kind-interface">IORedisLike</a> defines the minimal shape required for compatibility.</p>
<hr>
<h3 id="responsibility-of-subclasses" class="tsd-anchor-link">Responsibility of subclasses<a href="#responsibility-of-subclasses" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>A subclass must:</p>
<ul>
<li>Initialize <code>redis</code> inside the constructor.</li>
<li>Ensure the instance is connected and configured.</li>
<li>Provide a client whose <code>status</code> property reflects connection state
(<code>&quot;ready&quot;</code>, <code>&quot;connecting&quot;</code>, <code>&quot;reconnecting&quot;</code>, etc.).</li>
</ul>
<p>This is required for <a href="#checkconnection" class="tsd-kind-method">checkConnection</a> to work correctly.</p>
<hr>
<h3 id="example-implementation-in-a-subclass" class="tsd-anchor-link">Example implementation in a subclass<a href="#example-implementation-in-a-subclass" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-3">import</span><span class="hl-1"> </span><span class="hl-4">IORedis</span><span class="hl-1"> </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;ioredis&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">export</span><span class="hl-1"> </span><span class="hl-5">class</span><span class="hl-1"> </span><span class="hl-6">MyRedis</span><span class="hl-1"> </span><span class="hl-5">extends</span><span class="hl-1"> </span><span class="hl-6">PowerRedis</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">IORedis</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">host:</span><span class="hl-1"> </span><span class="hl-2">&quot;127.0.0.1&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">port:</span><span class="hl-1"> </span><span class="hl-7">6379</span><span class="hl-1">,</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<hr>
<h3 id="notes" class="tsd-anchor-link">Notes<a href="#notes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>The instance is treated as &quot;any&quot; internally to support both ioredis and
compatible Redis clients.</li>
<li>The class <strong>never</strong> creates its own client; the user must supply one.</li>
<li>This design allows dependency injection and custom client configurations.</li>
</ul>
<hr>
</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L200">PowerRedis.ts:200</a></li></ul></aside></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Methods</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="checkconnection"><span>check<wbr/>Connection</span><a href="#checkconnection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="checkconnection-1"><span class="tsd-kind-call-signature">checkConnection</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="#checkconnection-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Checks whether the underlying Redis client is considered &quot;connected&quot; and safe to use.</p>
<p>The check is based only on the client's <code>status</code> property and <strong>does not send</strong> any
network requests (no <code>PING</code> is performed).</p>
<ul>
<li>
<p>In <strong>strict mode</strong> (<code>REDIS_STRICT_CHECK_CONNECTION = true|on|yes|y|1</code>):</p>
<ul>
<li>Returns <code>true</code> <strong>only</strong> when <code>this.redis.status === &quot;ready&quot;</code>.</li>
</ul>
</li>
<li>
<p>In <strong>non-strict mode</strong> (any other value):</p>
<ul>
<li>Returns <code>true</code> when <code>this.redis.status</code> is:
<ul>
<li><code>&quot;ready&quot;</code> - fully connected;</li>
<li><code>&quot;connecting&quot;</code> or <code>&quot;reconnecting&quot;</code> - connection is in progress, but we still allow commands.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>If the client is missing (<code>this.redis</code> is falsy) or its status is different from
the allowed values, the method returns <code>false</code>.</p>
<p>Use this method before executing Redis commands to avoid working with a closed or
uninitialized client.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><p><code>true</code> if the Redis client exists and its status is acceptable for issuing
Redis commands, otherwise <code>false</code>.</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-3">Example<a href="#example-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-3">if</span><span class="hl-1"> (!</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">checkConnection</span><span class="hl-1">()) {</span><br/><span class="hl-1">  </span><span class="hl-3">throw</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">Error</span><span class="hl-1">(</span><span class="hl-2">&#39;Redis connection error.&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">value</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> (</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-4">redis</span><span class="hl-1"> </span><span class="hl-3">as</span><span class="hl-1"> </span><span class="hl-6">any</span><span class="hl-1">).</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;some:key&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L234">PowerRedis.ts:234</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="dropmany"><span>drop<wbr/>Many</span><a href="#dropmany" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="dropmany-1"><span class="tsd-kind-call-signature">dropMany</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">pattern</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">size</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span><a href="#dropmany-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Deletes <strong>all Redis keys matching a given pattern</strong>, using an efficient SCAN-based loop.</p>
<p>This method is a safe and scalable alternative to using <code>KEYS pattern | DEL</code>:</p>
<ul>
<li><code>KEYS</code> is <strong>blocking</strong> and can freeze Redis on large databases.</li>
<li><code>SCAN</code> is <strong>non-blocking</strong> and returns keys in small batches.</li>
</ul>
<p>The method iterates through the keyspace, finds matching keys, and deletes them
in chunks using <code>UNLINK</code> (non-blocking delete) when available, falling back to
<code>DEL</code> otherwise.</p>
<hr>
<h3 id="how-it-works" class="tsd-anchor-link">How it works<a href="#how-it-works" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ol>
<li>Starts a <code>SCAN</code> cursor loop:
<ul>
<li><code>SCAN cursor MATCH pattern COUNT size</code></li>
</ul>
</li>
<li>Collects keys returned on each iteration.</li>
<li>Deletes them in batches:
<ul>
<li>If <code>UNLINK</code> is supported → calls <code>UNLINK key1 key2 ...</code></li>
<li>Otherwise → calls <code>DEL key1 key2 ...</code></li>
</ul>
</li>
<li>Continues until <code>SCAN</code> cursor returns <code>&quot;0&quot;</code>.</li>
</ol>
<hr>
<h3 id="performance-notes" class="tsd-anchor-link">Performance notes<a href="#performance-notes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>UNLINK</code> is preferred because it deletes keys <strong>asynchronously</strong>, preventing
long blocking operations (very important for production).</li>
<li>Keys are processed in chunks of <code>size</code> to avoid sending extremely large commands.</li>
<li>The method <strong>counts</strong> the total number of deleted keys and returns it.</li>
</ul>
<hr>
<h3 id="parameters" class="tsd-anchor-link">Parameters<a href="#parameters" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>pattern</code> — Redis glob pattern (<code>user:*</code>, <code>cache:*:meta</code>, etc.).</li>
<li><code>size</code> — SCAN batch size and deletion chunk size (default: <code>1000</code>).</li>
</ul>
<hr>
<h3 id="return-value" class="tsd-anchor-link">Return value<a href="#return-value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Returns the <strong>number of keys matched</strong>, not the number of deletion commands.</p>
<pre><code class="ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">removed</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">.</span><span class="hl-0">dropMany</span><span class="hl-1">(</span><span class="hl-2">&quot;cache:user:*&quot;</span><span class="hl-1">);</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Deleted </span><span class="hl-5">${</span><span class="hl-4">removed</span><span class="hl-5">}</span><span class="hl-2"> cache keys`</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<hr>
<h3 id="example-4" class="tsd-anchor-link">Example<a href="#example-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-9">// Delete all temporary keys</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">.</span><span class="hl-0">dropMany</span><span class="hl-1">(</span><span class="hl-2">&quot;tmp:*&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-9">// Delete all queue items across shards</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">.</span><span class="hl-0">dropMany</span><span class="hl-1">(</span><span class="hl-2">&quot;queue:*&quot;</span><span class="hl-1">, </span><span class="hl-7">500</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<hr>
<h3 id="error-handling" class="tsd-anchor-link">Error handling<a href="#error-handling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>If SCAN or deletion fails, the method catches internal errors and then throws
a general <code>Redis drop many error.</code></li>
<li>The returned value is only counted when deletion operations succeed.</li>
</ul>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">pattern</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Glob-style key pattern to match for deletion.</p>
</div></li><li><span><span class="tsd-kind-parameter">size</span>: <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> = 1000</span></span><div class="tsd-comment tsd-typography"><p>Number of keys to process per SCAN and deletion batch.</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Number of keys matched and deleted.</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws">Throws<a href="#throws" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Error if Redis is not connected or an unexpected error occurs.</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L1359">PowerRedis.ts:1359</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="expire"><span>expire</span><a href="#expire" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="expire-1"><span class="tsd-kind-call-signature">expire</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">key</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">ttl</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span><a href="#expire-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Sets a TTL (time-to-live) on a Redis key.</p>
<p>This is a thin wrapper around the Redis <code>EXPIRE</code> command.
It assigns an expiration time in <strong>seconds</strong>, after which
the key will be automatically removed by Redis.</p>
<hr>
<h3 id="behavior" class="tsd-anchor-link">Behavior<a href="#behavior" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Executes:</p>
<pre><code><span class="hl-8">EXPIRE</span><span class="hl-1"> </span><span class="hl-4">key</span><span class="hl-1"> </span><span class="hl-4">ttl</span>
</code><button>Copy</button></pre>

<ul>
<li><code>ttl</code> must be a positive integer (in <strong>seconds</strong>).</li>
<li>If the key exists and the TTL is applied → returns <code>1</code>.</li>
<li>If the key does not exist or TTL cannot be set → returns <code>0</code>.</li>
</ul>
<p>Redis expiration is updated <em>regardless</em> of the key’s type
(string, list, hash, set, etc.).</p>
<hr>
<h3 id="use-cases" class="tsd-anchor-link">Use cases<a href="#use-cases" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Expiring temporary caches</li>
<li>Soft-deleting resources</li>
<li>Time-bound sessions or tokens</li>
<li>Auto-cleaning queues</li>
</ul>
<hr>
<h3 id="example-5" class="tsd-anchor-link">Example<a href="#example-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-9">// Key will expire after 60 seconds</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">.</span><span class="hl-0">expire</span><span class="hl-1">(</span><span class="hl-2">&quot;cache:tmp:data&quot;</span><span class="hl-1">, </span><span class="hl-7">60</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<hr>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">key</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Redis key to expire.</p>
</div></li><li><span><span class="tsd-kind-parameter">ttl</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>TTL in <strong>seconds</strong>.</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4><p><code>1</code> if the TTL was set, <code>0</code> otherwise.</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L1492">PowerRedis.ts:1492</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="fromkeystring"><span>from<wbr/>Key<wbr/>String</span><a href="#fromkeystring" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="fromkeystring-1"><span class="tsd-kind-call-signature">fromKeyString</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">key</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><a href="#fromkeystring-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Splits a Redis key into its individual segments using <code>:</code> as the delimiter.</p>
<p>This method is the opposite of <code>toKeyString()</code> and is useful when you need to
extract meaningful parts of a structured Redis key such as:</p>
<ul>
<li><code>&quot;session:user:42&quot;</code> → <code>[&quot;session&quot;, &quot;user&quot;, &quot;42&quot;]</code></li>
</ul>
<p>Empty segments (for example from <code>::</code>) are automatically removed to avoid
returning meaningless values.</p>
<p><strong>Important notes:</strong></p>
<ul>
<li>This method performs <strong>no validation</strong> — it simply splits the string.</li>
<li>Use it only when you trust the key format or when it was generated by
<code>toKeyString()</code> or another safe key-building method.</li>
</ul>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">key</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>A full Redis key string (e.g., <code>&quot;cache:product:123&quot;</code>).</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></h4><p>An array of non-empty segments extracted from the key.</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-6">Example<a href="#example-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-0">fromKeyString</span><span class="hl-1">(</span><span class="hl-2">&quot;user:profile:1&quot;</span><span class="hl-1">);</span><br/><span class="hl-9">// → [&quot;user&quot;, &quot;profile&quot;, &quot;1&quot;]</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L350">PowerRedis.ts:350</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="frompayload"><span>from<wbr/>Payload</span><a href="#frompayload" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="frompayload-1"><span class="tsd-kind-call-signature">fromPayload</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">null</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="../types/Jsonish.html" class="tsd-signature-type tsd-kind-type-alias">Jsonish</a><a href="#frompayload-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Converts a raw Redis string value into a typed JavaScript value.</p>
<p>Redis stores everything as strings, so this method helps restore
the original data type when reading values from Redis.</p>
<p><strong>Conversion rules:</strong></p>
<ol>
<li>If the input is not a string → returns <code>null</code>.</li>
<li>If the string is empty after trimming → returns an empty string <code>&quot;&quot;</code>.</li>
<li>Tries to <code>JSON.parse</code> the value:
<ul>
<li>If it becomes a number, boolean, string, array, or object → returns it.</li>
<li>If parsing fails → continues to fallback rules.</li>
</ul>
</li>
<li>If the string looks like a boolean (<code>&quot;true&quot;</code>, <code>&quot;false&quot;</code>, <code>&quot;yes&quot;</code>, <code>&quot;no&quot;</code>, etc.)<br>
→ returns a proper <code>boolean</code>.</li>
<li>Otherwise → returns the original string unchanged.</li>
</ol>
<p>This makes the method safe, predictable, and convenient for storing
mixed-type data in Redis without having to manually decode it each time.</p>
<p><strong>Examples:</strong></p>
<ul>
<li><code>&quot;123&quot;</code> → <code>123</code></li>
<li><code>&quot;true&quot;</code> → <code>true</code></li>
<li><code>&quot;{\&quot;a\&quot;:1}&quot;</code> → <code>{ a: 1 }</code></li>
<li><code>&quot;hello&quot;</code> → <code>&quot;hello&quot;</code></li>
<li><code>null</code> → <code>null</code></li>
</ul>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">value</span>: <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">null</span></span><div class="tsd-comment tsd-typography"><p>Raw string returned from Redis (or <code>null</code>).</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../types/Jsonish.html" class="tsd-signature-type tsd-kind-type-alias">Jsonish</a></h4><p>Parsed JSON, boolean, primitive, or the original string.</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L383">PowerRedis.ts:383</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="getlist"><span>get<wbr/>List</span><a href="#getlist" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="getlist-1"><span class="tsd-kind-call-signature">getList</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">key</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">limit</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">remove</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/Jsonish.html" class="tsd-signature-type tsd-kind-type-alias">Jsonish</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="#getlist-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Reads multiple items from a Redis list and returns them as an array of
decoded JavaScript values.</p>
<p>This method is a high-level wrapper around the asynchronous iterator
<code>getListIterator()</code>, which reads list items in chunks.<br>
It simplifies typical use cases where you only need the final array.</p>
<hr>
<h3 id="modes-of-operation" class="tsd-anchor-link">Modes of operation<a href="#modes-of-operation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="1-non-destructive-mode-" class="tsd-anchor-link">1. <strong>Non-destructive mode</strong> (<code>remove = false</code>)<a href="#1-non-destructive-mode-" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>The list is read using <code>LRANGE</code> in chunks.</li>
<li><strong>No items are removed</strong> from Redis.</li>
<li>Useful for inspecting queues, debugging, or read-only operations.</li>
</ul>
<h4 id="2-destructive-mode-" class="tsd-anchor-link">2. <strong>Destructive mode</strong> (<code>remove = true</code>)<a href="#2-destructive-mode-" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>Items are removed from the list using <code>LPOP</code> batches via <code>lpopCountCompat()</code>.</li>
<li>Stops when the list is empty or no more items are returned.</li>
<li>Useful for consuming a queue safely and efficiently.</li>
</ul>
<hr>
<h3 id="parameters-1" class="tsd-anchor-link">Parameters<a href="#parameters-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>key</code> — Redis list key.</li>
<li><code>limit</code> — maximum number of items to process per iteration
(affects chunk size, not the final array size).</li>
<li><code>remove</code> — whether to <strong>destroy</strong> items while reading.</li>
</ul>
<hr>
<h3 id="return-value-1" class="tsd-anchor-link">Return value<a href="#return-value-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Returns a flat array of decoded values:</p>
<pre><code class="ts"><span class="hl-1">[ &lt;</span><span class="hl-4">item1</span><span class="hl-1">&gt;, &lt;</span><span class="hl-6">item2</span><span class="hl-1">&gt;, &lt;</span><span class="hl-6">item3</span><span class="hl-1">&gt;, ... ]</span>
</code><button type="button">Copy</button></pre>

<ul>
<li>Items are decoded with <code>fromPayload()</code>.</li>
<li>Order is preserved as in Redis.</li>
</ul>
<hr>
<h3 id="example-non-destructive" class="tsd-anchor-link">Example (non-destructive)<a href="#example-non-destructive" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">items</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">.</span><span class="hl-0">getList</span><span class="hl-1">(</span><span class="hl-2">&quot;queue:logs&quot;</span><span class="hl-1">, </span><span class="hl-7">100</span><span class="hl-1">);</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">items</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="example-destructive" class="tsd-anchor-link">Example (destructive)<a href="#example-destructive" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">tasks</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">.</span><span class="hl-0">getList</span><span class="hl-1">(</span><span class="hl-2">&quot;queue:tasks&quot;</span><span class="hl-1">, </span><span class="hl-7">500</span><span class="hl-1">, </span><span class="hl-5">true</span><span class="hl-1">);</span><br/><span class="hl-3">for</span><span class="hl-1"> (</span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">task</span><span class="hl-1"> </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-4">tasks</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">processTask</span><span class="hl-1">(</span><span class="hl-4">task</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<hr>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">key</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Redis list key to read.</p>
</div></li><li><span><span class="tsd-kind-parameter">limit</span>: <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> = 100</span></span><div class="tsd-comment tsd-typography"><p>Number of items to fetch per chunk.</p>
</div></li><li><span><span class="tsd-kind-parameter">remove</span>: <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> = false</span></span><div class="tsd-comment tsd-typography"><p>Whether to remove items from the list while reading.</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/Jsonish.html" class="tsd-signature-type tsd-kind-type-alias">Jsonish</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><p>A flat array of decoded list items.</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-1">Throws<a href="#throws-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Error if the key format is invalid.</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L799">PowerRedis.ts:799</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="getlistiterator"><span>get<wbr/>List<wbr/>Iterator</span><a href="#getlistiterator" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="getlistiterator-1"><span class="tsd-kind-call-signature">getListIterator</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">key</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">limit</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">remove</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">AsyncGenerator</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/Jsonish.html" class="tsd-signature-type tsd-kind-type-alias">Jsonish</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span><a href="#getlistiterator-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Asynchronous iterator that streams items from a Redis list in chunks.</p>
<p>This is a low-level building block used by <a href="#getlist" class="tsd-kind-method">getList</a>.<br>
It allows you to process list items <strong>chunk by chunk</strong> without loading
everything into memory at once.</p>
<hr>
<h3 id="modes-of-operation-1" class="tsd-anchor-link">Modes of operation<a href="#modes-of-operation-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="1-destructive-mode-" class="tsd-anchor-link">1. <strong>Destructive mode</strong> (<code>remove = true</code>)<a href="#1-destructive-mode-" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>Uses <a href="#lpopcountcompat" class="tsd-kind-method">lpopCountCompat</a> internally.</li>
<li>Repeatedly pops up to <code>limit</code> items from the head of the list.</li>
<li>Yields each batch as an array of decoded values.</li>
<li>Stops when no more items are returned (list is empty).</li>
</ul>
<h4 id="2-non-destructive-mode-" class="tsd-anchor-link">2. <strong>Non-destructive mode</strong> (<code>remove = false</code>)<a href="#2-non-destructive-mode-" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>Reads the list using <code>LLEN</code> + <code>LRANGE</code> in pages of size <code>limit</code>.</li>
<li><strong>Does not remove</strong> any items from Redis.</li>
<li>Yields each page as an array of decoded values.</li>
</ul>
<hr>
<h3 id="important-notes" class="tsd-anchor-link">Important notes<a href="#important-notes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>limit</code> controls the <strong>chunk size per iteration</strong>, not the total number
of items returned by the iterator.</li>
<li>Each yielded item is already converted from a raw Redis string using
<a href="#frompayload" class="tsd-kind-method">fromPayload</a>.</li>
<li>The method checks the Redis connection first via <a href="#checkconnection" class="tsd-kind-method">checkConnection</a>.</li>
</ul>
<hr>
<h3 id="usage-example" class="tsd-anchor-link">Usage example<a href="#usage-example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-9">// Non-destructive streaming read</span><br/><span class="hl-3">for</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> (</span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">chunk</span><span class="hl-1"> </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">.</span><span class="hl-0">getListIterator</span><span class="hl-1">(</span><span class="hl-2">&quot;queue:logs&quot;</span><span class="hl-1">, </span><span class="hl-7">100</span><span class="hl-1">)) {</span><br/><span class="hl-1">  </span><span class="hl-3">for</span><span class="hl-1"> (</span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">item</span><span class="hl-1"> </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-4">chunk</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Log:&quot;</span><span class="hl-1">, </span><span class="hl-4">item</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-9">// Destructive queue consumption</span><br/><span class="hl-3">for</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> (</span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">tasks</span><span class="hl-1"> </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">.</span><span class="hl-0">getListIterator</span><span class="hl-1">(</span><span class="hl-2">&quot;queue:tasks&quot;</span><span class="hl-1">, </span><span class="hl-7">500</span><span class="hl-1">, </span><span class="hl-5">true</span><span class="hl-1">)) {</span><br/><span class="hl-1">  </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-6">Promise</span><span class="hl-1">.</span><span class="hl-0">all</span><span class="hl-1">(</span><span class="hl-4">tasks</span><span class="hl-1">.</span><span class="hl-0">map</span><span class="hl-1">(</span><span class="hl-4">processTask</span><span class="hl-1">));</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">key</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Redis list key to read.</p>
</div></li><li><span><span class="tsd-kind-parameter">limit</span>: <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> = 100</span></span><div class="tsd-comment tsd-typography"><p>Maximum number of items to read per iteration (chunk size).</p>
</div></li><li><span><span class="tsd-kind-parameter">remove</span>: <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> = false</span></span><div class="tsd-comment tsd-typography"><p>Whether to remove items from the list while reading.</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">AsyncGenerator</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/Jsonish.html" class="tsd-signature-type tsd-kind-type-alias">Jsonish</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-yields"><h4 class="tsd-anchor-link" id="yields">Yields<a href="#yields" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Arrays of decoded list items (chunks).</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-2">Throws<a href="#throws-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Error if Redis is not connected or arguments are invalid.</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L867">PowerRedis.ts:867</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="getmany"><span>get<wbr/>Many</span><a href="#getmany" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="getmany-1"><span class="tsd-kind-call-signature">getMany</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">pattern</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">limit</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">scanSize</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">chunkSize</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <a href="../types/Jsonish.html" class="tsd-signature-type tsd-kind-type-alias">Jsonish</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><a href="#getmany-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Reads multiple Redis keys that match a given pattern and returns their
decoded values as a key-value object.</p>
<p>This method is a high-level utility that combines:</p>
<ol>
<li>
<p><strong>Key discovery</strong> via <code>SCAN</code><br>
(<code>keys()</code> is used internally to find matching keys up to a given limit)</p>
</li>
<li>
<p><strong>Batch value retrieval</strong> via <code>MGET</code><br>
Keys are processed in chunks (controlled by <code>chunkSize</code>) to avoid
sending one huge MGET command or exceeding argument limits.</p>
</li>
<li>
<p><strong>Automatic decoding</strong> via <code>fromPayload()</code><br>
Every raw Redis string is converted into the appropriate JS type:
numbers, booleans, objects, arrays, or plain strings.</p>
</li>
</ol>
<hr>
<h3 id="parameters-2" class="tsd-anchor-link">Parameters<a href="#parameters-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>pattern</code> — Redis glob key pattern (e.g. <code>&quot;cache:user:*&quot;</code>).</li>
<li><code>limit</code> — maximum number of keys to return from SCAN.</li>
<li><code>scanSize</code> — how many keys Redis attempts to return per SCAN iteration.</li>
<li><code>chunkSize</code> — how many keys to fetch via MGET at once.</li>
</ul>
<p>These parameters allow the method to scale safely even in large databases.</p>
<hr>
<h3 id="return-value-2" class="tsd-anchor-link">Return Value<a href="#return-value-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Returns an object:</p>
<pre><code class="ts"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;key1&quot;</span><span class="hl-1">: &lt;</span><span class="hl-6">decoded</span><span class="hl-1"> </span><span class="hl-6">value</span><span class="hl-1">&gt;,</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;key2&quot;</span><span class="hl-1">: &lt;</span><span class="hl-6">decoded</span><span class="hl-1"> </span><span class="hl-6">value</span><span class="hl-1">&gt;,</span><br/><span class="hl-1">  ...</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<ul>
<li>Keys with <code>null</code> values are included as <code>null</code>.</li>
<li>If no keys match, an empty object <code>{}</code> is returned.</li>
</ul>
<hr>
<h3 id="example-7" class="tsd-anchor-link">Example<a href="#example-7" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">items</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">.</span><span class="hl-0">getMany</span><span class="hl-1">(</span><span class="hl-2">&quot;session:*&quot;</span><span class="hl-1">, </span><span class="hl-7">500</span><span class="hl-1">);</span><br/><br/><span class="hl-3">for</span><span class="hl-1"> (</span><span class="hl-5">const</span><span class="hl-1"> [</span><span class="hl-8">key</span><span class="hl-1">, </span><span class="hl-8">value</span><span class="hl-1">] </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-4">Object</span><span class="hl-1">.</span><span class="hl-0">entries</span><span class="hl-1">(</span><span class="hl-4">items</span><span class="hl-1">)) {</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Session:&quot;</span><span class="hl-1">, </span><span class="hl-4">key</span><span class="hl-1">, </span><span class="hl-4">value</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<hr>
<h3 id="behavior-notes" class="tsd-anchor-link">Behavior Notes<a href="#behavior-notes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>The method <strong>never blocks</strong> Redis (uses SCAN, not KEYS).</li>
<li>Values are processed in controlled batches via <code>MGET</code>.</li>
<li>Each value is decoded into a real JS type using <code>fromPayload()</code>.</li>
</ul>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">pattern</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Glob-style Redis key pattern to search for.</p>
</div></li><li><span><span class="tsd-kind-parameter">limit</span>: <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> = 100</span></span><div class="tsd-comment tsd-typography"><p>Maximum number of keys to read.</p>
</div></li><li><span><span class="tsd-kind-parameter">scanSize</span>: <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> = 1000</span></span><div class="tsd-comment tsd-typography"><p>SCAN batch size.</p>
</div></li><li><span><span class="tsd-kind-parameter">chunkSize</span>: <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> = 1000</span></span><div class="tsd-comment tsd-typography"><p>Number of keys to fetch per MGET batch.</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <a href="../types/Jsonish.html" class="tsd-signature-type tsd-kind-type-alias">Jsonish</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><p>An object where each property is a Redis key and its decoded value.</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-3">Throws<a href="#throws-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Error if arguments are invalid or Redis is not connected.</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L715">PowerRedis.ts:715</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="getone"><span>get<wbr/>One</span><a href="#getone" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="getone-1"><span class="tsd-kind-call-signature">getOne</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">key</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/Jsonish.html" class="tsd-signature-type tsd-kind-type-alias">Jsonish</a><span class="tsd-signature-symbol">&gt;</span><a href="#getone-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Reads a single key from Redis and automatically converts the stored
string value into a typed JavaScript value.</p>
<p>This method is a convenience wrapper around:</p>
<ul>
<li><code>GET key</code></li>
<li>automatic decoding using <code>fromPayload()</code></li>
</ul>
<p><strong>Validation &amp; safety:</strong></p>
<ul>
<li>The <code>key</code> argument must be a non-empty string.</li>
<li>Before executing the command, the method checks the Redis connection
using <code>checkConnection()</code>.</li>
</ul>
<p><strong>Decoding logic:</strong>
The raw Redis string is passed through <code>fromPayload()</code>, which:</p>
<ul>
<li>tries to parse JSON,</li>
<li>recognizes booleans,</li>
<li>converts numbers,</li>
<li>returns arrays/objects,</li>
<li>or simply returns the original string if nothing else matches.</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li>Parsed value: object, array, number, boolean, string — depending on
what was stored.</li>
<li><code>null</code> if:
<ul>
<li>the key does not exist,</li>
<li>the Redis client returned <code>null</code>,</li>
<li>or decoding rules map it to <code>null</code>.</li>
</ul>
</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">data</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">.</span><span class="hl-0">getOne</span><span class="hl-1">(</span><span class="hl-2">&quot;user:42:profile&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">data</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;User profile:&quot;</span><span class="hl-1">, </span><span class="hl-4">data</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">key</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Redis key to read.</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/Jsonish.html" class="tsd-signature-type tsd-kind-type-alias">Jsonish</a><span class="tsd-signature-symbol">&gt;</span></h4><p>The decoded JavaScript value or <code>null</code>.</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-4">Throws<a href="#throws-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Error if the key is invalid or the Redis connection is unavailable.</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L638">PowerRedis.ts:638</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="incr"><span>incr</span><a href="#incr" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="incr-1"><span class="tsd-kind-call-signature">incr</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">key</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">ttl</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span><a href="#incr-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Atomically increments a numeric Redis key by <strong>1</strong> and optionally sets a TTL.</p>
<p>This method wraps the Redis <code>INCR</code> command and adds a convenient optional
expiration using <code>PEXPIRE</code> (TTL in <strong>milliseconds</strong>).</p>
<hr>
<h3 id="behavior-1" class="tsd-anchor-link">Behavior<a href="#behavior-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ol>
<li>
<p>Executes:</p>
<ul>
<li><code>INCR key</code>
<ul>
<li>If the key does not exist → Redis creates it with value <code>1</code>.</li>
<li>If the key contains a non-numeric value → Redis throws an error.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>If <code>ttl</code> is a positive number:</p>
<ul>
<li>Executes:
<ul>
<li><code>PEXPIRE key ttl</code></li>
</ul>
</li>
<li>TTL is applied <strong>after</strong> the increment.</li>
<li>TTL is in <strong>milliseconds</strong>, not seconds.</li>
</ul>
</li>
</ol>
<hr>
<h3 id="value-type" class="tsd-anchor-link">Value type<a href="#value-type" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>The returned value is the new numeric value of the key after increment.</li>
<li>Always a number.</li>
</ul>
<hr>
<h3 id="use-cases-1" class="tsd-anchor-link">Use cases<a href="#use-cases-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Rate limiting counters</li>
<li>Counting events per user</li>
<li>Tracking queue attempts</li>
<li>Generating monotonic IDs (non-distributed)</li>
</ul>
<p>Example:</p>
<pre><code class="ts"><span class="hl-9">// Increment login attempts and apply a 5-minute TTL</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">attempts</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">.</span><span class="hl-0">incr</span><span class="hl-1">(</span><span class="hl-2">&quot;login:attempts:42&quot;</span><span class="hl-1">, </span><span class="hl-7">5</span><span class="hl-1"> * </span><span class="hl-7">60</span><span class="hl-1"> * </span><span class="hl-7">1000</span><span class="hl-1">);</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">attempts</span><span class="hl-1">); </span><span class="hl-9">// → 1, 2, 3, ...</span>
</code><button type="button">Copy</button></pre>

<hr>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">key</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Redis key to increment.</p>
</div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">ttl</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>Optional TTL in <strong>milliseconds</strong> set via <code>PEXPIRE</code>.</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4><p>New numeric value after increment.</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L1439">PowerRedis.ts:1439</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="keys"><span>keys</span><a href="#keys" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="keys-1"><span class="tsd-kind-call-signature">keys</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">pattern</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">limit</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">scanSize</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="#keys-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Finds Redis keys that match a given pattern using an efficient <code>SCAN</code> loop.</p>
<p>This method is a safe alternative to the Redis <code>KEYS</code> command:</p>
<ul>
<li><code>KEYS</code> scans <strong>the entire database at once</strong> and can block Redis.</li>
<li><code>SCAN</code> iterates through the keyspace in small chunks and is non-blocking.</li>
</ul>
<p><strong>How it works:</strong></p>
<ul>
<li>Uses <code>SCAN cursor MATCH pattern COUNT scanSize</code>.</li>
<li>Iterates until either:
<ul>
<li>the internal cursor returns <code>&quot;0&quot;</code> (end of scan), or</li>
<li>the number of collected keys reaches <code>limit</code>.</li>
</ul>
</li>
<li>Uses a <code>Set</code> internally to avoid duplicates, because <code>SCAN</code>
<em>may return the same key more than once</em>.</li>
</ul>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>pattern</code> — Redis glob pattern (e.g. <code>&quot;user:*&quot;</code>).<br>
Must be a non-empty string.</li>
<li><code>limit</code> — maximum number of keys to return<br>
(prevents scanning the entire DB when you only need a few).</li>
<li><code>scanSize</code> — how many keys Redis <em>attempts</em> to return per iteration<br>
(larger = faster but heavier; smaller = safer but slower).</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>An array of unique keys matching the pattern.</li>
<li>Length is at most <code>limit</code>.</li>
</ul>
<p><strong>Why not return a Set?</strong><br>
Arrays are easier to use and serialize, and order is not important here.</p>
<p><strong>Example:</strong></p>
<pre><code class="ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">keys</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">keys</span><span class="hl-1">(</span><span class="hl-2">&quot;cache:user:*&quot;</span><span class="hl-1">, </span><span class="hl-7">200</span><span class="hl-1">);</span><br/><br/><span class="hl-3">for</span><span class="hl-1"> (</span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">key</span><span class="hl-1"> </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-4">keys</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">value</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">getOne</span><span class="hl-1">(</span><span class="hl-4">key</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">key</span><span class="hl-1">, </span><span class="hl-4">value</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">pattern</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">limit</span>: <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> = 100</span></span></li><li><span><span class="tsd-kind-parameter">scanSize</span>: <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> = 1000</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-5">Throws<a href="#throws-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Error if the pattern or numeric parameters are invalid,
or if Redis is not connected.</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L561">PowerRedis.ts:561</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="lpopcountcompat"><span>lpop<wbr/>Count<wbr/>Compat</span><a href="#lpopcountcompat" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="lpopcountcompat-1"><span class="tsd-kind-call-signature">lpopCountCompat</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">key</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">count</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="#lpopcountcompat-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Compatibility wrapper for removing multiple items from a Redis list using <code>LPOP</code>.</p>
<p>Modern Redis versions support <code>LPOP key count</code>, which pops multiple elements
in a single command. However, older Redis versions <strong>do not support</strong> the
<code>count</code> argument.</p>
<p>This method detects support at runtime:</p>
<p><strong>1. Fast path (Redis ≥ 6.2):</strong></p>
<ul>
<li>Calls <code>LPOP key count</code> directly.</li>
<li>If Redis returns:
<ul>
<li>an array → returns it as a list of strings;</li>
<li>a single string → wraps it into an array.</li>
</ul>
</li>
</ul>
<p><strong>2. Fallback path (older Redis versions):</strong><br>
Uses a <code>MULTI</code> transaction to emulate multi-pop:</p>
<ul>
<li><code>LRANGE key 0 count-1</code> — read the items</li>
<li><code>LTRIM key count -1</code> — remove them</li>
</ul>
<p>This guarantees consistent behavior even on older servers or restricted
hosting environments.</p>
<p><strong>Return value:</strong></p>
<ul>
<li>Always an array of popped string items.</li>
<li>Empty array if the key does not exist or no items are available.</li>
</ul>
<p><strong>Usage example:</strong></p>
<pre><code class="ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">items</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">lpopCountCompat</span><span class="hl-1">(</span><span class="hl-2">&quot;queue:tasks&quot;</span><span class="hl-1">, </span><span class="hl-7">100</span><span class="hl-1">);</span><br/><span class="hl-3">for</span><span class="hl-1"> (</span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">raw</span><span class="hl-1"> </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-4">items</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">payload</span><span class="hl-1"> = </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">fromPayload</span><span class="hl-1">(</span><span class="hl-4">raw</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-9">// process payload...</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">key</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Redis list key to pop items from.</p>
</div></li><li><span><span class="tsd-kind-parameter">count</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>Number of items to remove.</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Array of popped string values (may be empty).</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L482">PowerRedis.ts:482</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="pttl"><span>pttl</span><a href="#pttl" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="pttl-1"><span class="tsd-kind-call-signature">pttl</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">key</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span><a href="#pttl-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns the remaining TTL (time-to-live) of a Redis key in <strong>milliseconds</strong>.</p>
<p>This is a simple wrapper around the Redis <code>PTTL</code> command:</p>
<pre><code><span class="hl-8">PTTL</span><span class="hl-1"> </span><span class="hl-4">key</span>
</code><button>Copy</button></pre>

<p>Redis returns:</p>
<ul>
<li>a positive number → milliseconds remaining before expiration</li>
<li><code>0</code> → key has no remaining time (expires now)</li>
<li><code>-1</code> → key exists but <strong>has no expiration</strong></li>
<li><code>-2</code> → key <strong>does not exist</strong></li>
</ul>
<hr>
<h3 id="behavior-2" class="tsd-anchor-link">Behavior<a href="#behavior-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The method forwards the call directly to Redis and returns the raw numeric result.
No additional processing or validation is applied to the response.</p>
<hr>
<h3 id="use-cases-2" class="tsd-anchor-link">Use cases<a href="#use-cases-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Checking when session keys expire</li>
<li>Monitoring cache freshness</li>
<li>Debugging queue message TTL</li>
<li>Conditional logic based on expiration</li>
</ul>
<p>Example:</p>
<pre><code class="ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">ttlMs</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">.</span><span class="hl-0">pttl</span><span class="hl-1">(</span><span class="hl-2">&quot;session:user:42&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">ttlMs</span><span class="hl-1"> === -</span><span class="hl-7">2</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Key does not exist&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">} </span><span class="hl-3">else</span><span class="hl-1"> </span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">ttlMs</span><span class="hl-1"> === -</span><span class="hl-7">1</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Key has no expiration&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">} </span><span class="hl-3">else</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Expires in </span><span class="hl-5">${</span><span class="hl-4">ttlMs</span><span class="hl-5">}</span><span class="hl-2">ms`</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<hr>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">key</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Redis key to query.</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4><p>TTL in milliseconds, or a negative code described above.</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L1775">PowerRedis.ts:1775</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="pushmany"><span>push<wbr/>Many</span><a href="#pushmany" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="pushmany-1"><span class="tsd-kind-call-signature">pushMany</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">key</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">values</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">ttlSec</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span><a href="#pushmany-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Pushes <strong>multiple values</strong> to the <strong>end</strong> of a Redis list (<code>RPUSH</code>) with an optional TTL.</p>
<p>This is a bulk version of <a href="#pushone" class="tsd-kind-method">pushOne</a>.<br>
It always appends all provided values to the end of the list and can optionally
set an expiration time for the entire list.</p>
<hr>
<h3 id="behavior-3" class="tsd-anchor-link">Behavior<a href="#behavior-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="1-without-ttl-not-provided-or-invalid" class="tsd-anchor-link">1. Without TTL (<code>ttlSec</code> not provided or invalid)<a href="#1-without-ttl-not-provided-or-invalid" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>Validates:
<ul>
<li><code>key</code> must be a non-empty string.</li>
<li><code>values</code> must be a non-empty array.</li>
</ul>
</li>
<li>Converts each value using <a href="#topayload" class="tsd-kind-method">toPayload</a>.</li>
<li>Executes:
<ul>
<li><code>RPUSH key value1 value2 value3 ...</code></li>
</ul>
</li>
<li>Returns the <strong>new length</strong> of the list after all pushes.</li>
</ul>
<h4 id="2-with-ttl-is-a-positive-number" class="tsd-anchor-link">2. With TTL (<code>ttlSec</code> is a positive number)<a href="#2-with-ttl-is-a-positive-number" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>Validates the same inputs.</li>
<li>Creates a Redis transaction (<code>MULTI</code>):
<ul>
<li><code>RPUSH key value1 value2 ...</code></li>
<li><code>EXPIRE key ttlSec</code></li>
</ul>
</li>
<li>Executes <code>EXEC</code> and:
<ul>
<li>Checks both replies (<code>RPUSH</code> and <code>EXPIRE</code>).</li>
<li>If both succeed and return valid numeric results:
<ul>
<li>Returns the list length from <code>RPUSH</code>.</li>
</ul>
</li>
<li>Otherwise returns <code>0</code>.</li>
</ul>
</li>
</ul>
<p>TTL is applied to the <strong>entire list key</strong>, not to individual items.</p>
<hr>
<h3 id="value-conversion" class="tsd-anchor-link">Value conversion<a href="#value-conversion" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Each value is passed through <a href="#topayload" class="tsd-kind-method">toPayload</a>, which:</p>
<ul>
<li>JSON-encodes arrays/objects;</li>
<li>stringifies numbers, booleans, strings, null, undefined, etc.</li>
</ul>
<hr>
<h3 id="return-value-3" class="tsd-anchor-link">Return value<a href="#return-value-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Without TTL: new length of the list after the <code>RPUSH</code>.</li>
<li>With TTL: new length if both <code>RPUSH</code> and <code>EXPIRE</code> succeed, otherwise <code>0</code>.</li>
</ul>
<hr>
<h3 id="example-8" class="tsd-anchor-link">Example<a href="#example-8" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-9">// Add multiple log entries to the list</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">.</span><span class="hl-0">pushMany</span><span class="hl-1">(</span><span class="hl-2">&quot;logs:events&quot;</span><span class="hl-1">, [</span><br/><span class="hl-1">  { </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-2">&quot;login&quot;</span><span class="hl-1">, </span><span class="hl-4">userId:</span><span class="hl-1"> </span><span class="hl-7">1</span><span class="hl-1"> },</span><br/><span class="hl-1">  { </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-2">&quot;logout&quot;</span><span class="hl-1">, </span><span class="hl-4">userId:</span><span class="hl-1"> </span><span class="hl-7">2</span><span class="hl-1"> },</span><br/><span class="hl-1">]);</span><br/><br/><span class="hl-9">// Add a batch of tasks with auto-expiration after 5 minutes</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">.</span><span class="hl-0">pushMany</span><span class="hl-1">(</span><span class="hl-2">&quot;queue:tasks&quot;</span><span class="hl-1">, [</span><br/><span class="hl-1">  { </span><span class="hl-4">id:</span><span class="hl-1"> </span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-4">action:</span><span class="hl-1"> </span><span class="hl-2">&quot;sync&quot;</span><span class="hl-1"> },</span><br/><span class="hl-1">  { </span><span class="hl-4">id:</span><span class="hl-1"> </span><span class="hl-7">2</span><span class="hl-1">, </span><span class="hl-4">action:</span><span class="hl-1"> </span><span class="hl-2">&quot;rebuild&quot;</span><span class="hl-1"> },</span><br/><span class="hl-1">], </span><span class="hl-7">300</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">key</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Redis list key.</p>
</div></li><li><span><span class="tsd-kind-parameter">values</span>: <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>Non-empty array of values to push to the end of the list.</p>
</div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">ttlSec</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>Optional TTL in seconds applied to the list key.</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4><p>New list length, or <code>0</code> if TTL mode fails.</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-6">Throws<a href="#throws-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Error if the key or payload format is invalid, or Redis is not connected.</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L1257">PowerRedis.ts:1257</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="pushone"><span>push<wbr/>One</span><a href="#pushone" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="pushone-1"><span class="tsd-kind-call-signature">pushOne</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">key</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">ttlSec</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span><a href="#pushone-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Pushes a single value to the <strong>end</strong> of a Redis list (<code>RPUSH</code>) with an optional TTL.</p>
<p>This method is similar to <a href="#setone" class="tsd-kind-method">setOne</a>, but specifically for <strong>list</strong> operations.
It always appends the value to the end of the list and optionally applies expiration.</p>
<hr>
<h3 id="behavior-4" class="tsd-anchor-link">Behavior<a href="#behavior-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="1-without-ttl-not-provided-or-invalid-1" class="tsd-anchor-link">1. Without TTL (<code>ttlSec</code> not provided or invalid)<a href="#1-without-ttl-not-provided-or-invalid-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>Executes:
<ul>
<li><code>RPUSH key value</code></li>
</ul>
</li>
<li>Returns the new length of the list.</li>
</ul>
<h4 id="2-with-ttl-is-a-positive-number-1" class="tsd-anchor-link">2. With TTL (<code>ttlSec</code> is a positive number)<a href="#2-with-ttl-is-a-positive-number-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>Executes a Redis transaction (<code>MULTI</code>):
<ul>
<li><code>RPUSH key value</code></li>
<li><code>EXPIRE key ttlSec</code></li>
</ul>
</li>
<li>After <code>EXEC</code>:
<ul>
<li>Validates both replies.</li>
<li>Returns the list length reported by <code>RPUSH</code>.</li>
</ul>
</li>
</ul>
<p>TTL is useful when the list is used as a temporary buffer or queue that should
disappear after some time.</p>
<hr>
<h3 id="value-conversion-1" class="tsd-anchor-link">Value conversion<a href="#value-conversion-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The value is first passed through <a href="#topayload" class="tsd-kind-method">toPayload</a>, which:</p>
<ul>
<li>JSON-encodes arrays or objects;</li>
<li>stringifies numbers, booleans, null, undefined, etc.</li>
</ul>
<hr>
<h3 id="return-value-4" class="tsd-anchor-link">Return value<a href="#return-value-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Returns the <strong>new length</strong> of the list after pushing the element.
If the transaction fails or TTL cannot be set → returns <code>0</code>.</p>
<hr>
<h3 id="example-9" class="tsd-anchor-link">Example<a href="#example-9" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-9">// Push a single message to a queue</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">.</span><span class="hl-0">pushOne</span><span class="hl-1">(</span><span class="hl-2">&quot;queue:events&quot;</span><span class="hl-1">, { </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-2">&quot;login&quot;</span><span class="hl-1">, </span><span class="hl-4">userId:</span><span class="hl-1"> </span><span class="hl-7">5</span><span class="hl-1"> });</span><br/><br/><span class="hl-9">// Push a value with expiration (list will auto-delete after TTL)</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">.</span><span class="hl-0">pushOne</span><span class="hl-1">(</span><span class="hl-2">&quot;tmp:cache:list&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;hello&quot;</span><span class="hl-1">, </span><span class="hl-7">30</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">key</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Redis list key.</p>
</div></li><li><span><span class="tsd-kind-parameter">value</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>Value to push to the end of the list.</p>
</div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">ttlSec</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>Optional TTL in seconds applied to the entire list.</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4><p>New list length or <code>0</code> if TTL mode failed.</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-7">Throws<a href="#throws-7" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Error if the key is invalid or Redis is not connected.</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L1162">PowerRedis.ts:1162</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="script"><span>script</span><a href="#script" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="script-1"><span class="tsd-kind-call-signature">script</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">subcommand</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">&quot;LOAD&quot;</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">script</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><a href="#script-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Loads a Lua script into Redis and returns its SHA1 hash.</p>
<p>This is a wrapper around the Redis command:</p>
<pre><code><span class="hl-8">SCRIPT</span><span class="hl-1"> </span><span class="hl-8">LOAD</span><span class="hl-1"> </span><span class="hl-2">&quot;&lt;lua script&gt;&quot;</span>
</code><button>Copy</button></pre>

<p>Redis stores the script in its internal script cache and returns a
<strong>SHA1 hash</strong>, which can later be used with:</p>
<ul>
<li><code>EVALSHA &lt;sha1&gt; ...</code> — execute by hash</li>
<li>avoids sending the entire script string every time</li>
<li>improves performance and reduces bandwidth</li>
</ul>
<hr>
<h3 id="behavior-5" class="tsd-anchor-link">Behavior<a href="#behavior-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Accepts a Lua script as a plain string.</li>
<li>Sends <code>SCRIPT LOAD</code> to Redis.</li>
<li>Returns a SHA1 hash (always a string).</li>
<li>Does <strong>not</strong> execute the script; it only registers it.</li>
</ul>
<hr>
<h3 id="use-cases-3" class="tsd-anchor-link">Use cases<a href="#use-cases-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Preloading Lua scripts for:
<ul>
<li>Atomic queue operations</li>
<li>Locks</li>
<li>Counters</li>
<li>Custom batch commands</li>
</ul>
</li>
<li>Required by <code>EVALSHA</code> calls elsewhere in your application.</li>
</ul>
<hr>
<h3 id="example-10" class="tsd-anchor-link">Example<a href="#example-10" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">sha</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">.</span><span class="hl-0">script</span><span class="hl-1">(</span><span class="hl-2">&#39;LOAD&#39;</span><span class="hl-1">, </span><span class="hl-2">`</span><br/><span class="hl-2">  return redis.call(&quot;INCR&quot;, KEYS[1])</span><br/><span class="hl-2">`</span><span class="hl-1">);</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">sha</span><span class="hl-1">); </span><span class="hl-9">// → &quot;e0f1c1f9c6d42...&quot;</span><br/><br/><span class="hl-9">// Later:</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">redisClient</span><span class="hl-1">.</span><span class="hl-0">evalsha</span><span class="hl-1">(</span><span class="hl-4">sha</span><span class="hl-1">, </span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-2">&quot;counter:key&quot;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<hr>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">subcommand</span>: <span class="tsd-signature-type">&quot;LOAD&quot;</span></span><div class="tsd-comment tsd-typography"><p>Only <code>&quot;LOAD&quot;</code> is supported by this wrapper.</p>
</div></li><li><span><span class="tsd-kind-parameter">script</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The Lua script to cache inside Redis.</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><p>SHA1 hash of the cached script.</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L1549">PowerRedis.ts:1549</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="setmany"><span>set<wbr/>Many</span><a href="#setmany" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="setmany-1"><span class="tsd-kind-call-signature">setMany</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">values</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">key</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">value</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">ttlSec</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span><a href="#setmany-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Sets multiple keys in Redis in one call, with an optional TTL (time-to-live) for all of them.</p>
<p>This method is a bulk version of <a href="#setone" class="tsd-kind-method">setOne</a> and is useful when you need
to write many keys at once.</p>
<hr>
<h3 id="behavior-without-ttl" class="tsd-anchor-link">Behavior without TTL<a href="#behavior-without-ttl" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If <code>ttlSec</code> is <strong>not</strong> a positive number:</p>
<ul>
<li>The method:
<ul>
<li>Validates all keys.</li>
<li>Converts each value via <a href="#topayload" class="tsd-kind-method">toPayload</a>.</li>
<li>Uses a single <code>MSET</code> call:
<ul>
<li><code>MSET key1 value1 key2 value2 ...</code></li>
</ul>
</li>
</ul>
</li>
<li>If <code>MSET</code> returns <code>&quot;OK&quot;</code>, it returns the number of keys written.</li>
<li>Otherwise returns <code>0</code>.</li>
</ul>
<p>This is the fastest way to set many keys at once when you <strong>do not</strong>
need expiration.</p>
<hr>
<h3 id="behavior-with-ttl" class="tsd-anchor-link">Behavior with TTL<a href="#behavior-with-ttl" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If <code>ttlSec</code> <strong>is</strong> a positive number:</p>
<ul>
<li>The method:
<ul>
<li>Validates all keys.</li>
<li>Creates a Redis transaction (<code>MULTI</code>).</li>
<li>For every pair <code>{ key, value }</code> adds:
<ul>
<li><code>SET key value EX ttlSec</code></li>
</ul>
</li>
<li>Executes the transaction with <code>EXEC</code>.</li>
</ul>
</li>
<li>Then it:
<ul>
<li>Checks each reply from Redis.</li>
<li>Counts how many <code>SET</code> commands returned <code>&quot;OK&quot;</code>.</li>
</ul>
</li>
<li>Returns the count of successfully written keys.</li>
</ul>
<p>This approach is slightly heavier but lets you assign the <strong>same TTL</strong>
to all keys in a safe, atomic way.</p>
<hr>
<h3 id="parameters-3" class="tsd-anchor-link">Parameters<a href="#parameters-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>values</code> — Array of objects, each with:
<ul>
<li><code>key</code> — non-empty Redis key string.</li>
<li><code>value</code> — any JSON-compatible value.</li>
</ul>
</li>
<li><code>ttlSec</code> — Optional TTL in <strong>seconds</strong>. If valid, all keys will get
this expiration time.</li>
</ul>
<hr>
<h3 id="return-value-5" class="tsd-anchor-link">Return value<a href="#return-value-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Number of keys that were successfully written:
<ul>
<li>With <code>MSET</code> → either <code>values.length</code> or <code>0</code>.</li>
<li>With <code>MULTI/EXEC</code> → count of <code>&quot;OK&quot;</code> replies from <code>SET</code>.</li>
</ul>
</li>
</ul>
<hr>
<h3 id="example-11" class="tsd-anchor-link">Example<a href="#example-11" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">.</span><span class="hl-0">setMany</span><span class="hl-1">([</span><br/><span class="hl-1">  { </span><span class="hl-4">key:</span><span class="hl-1"> </span><span class="hl-2">&quot;config:mode&quot;</span><span class="hl-1">, </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-2">&quot;production&quot;</span><span class="hl-1"> },</span><br/><span class="hl-1">  { </span><span class="hl-4">key:</span><span class="hl-1"> </span><span class="hl-2">&quot;config:maxWorkers&quot;</span><span class="hl-1">, </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-7">8</span><span class="hl-1"> },</span><br/><span class="hl-1">]);</span><br/><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">.</span><span class="hl-0">setMany</span><span class="hl-1">(</span><br/><span class="hl-1">  [</span><br/><span class="hl-1">    { </span><span class="hl-4">key:</span><span class="hl-1"> </span><span class="hl-2">&quot;session:user:1&quot;</span><span class="hl-1">, </span><span class="hl-4">value:</span><span class="hl-1"> { </span><span class="hl-4">token:</span><span class="hl-1"> </span><span class="hl-2">&quot;a&quot;</span><span class="hl-1"> } },</span><br/><span class="hl-1">    { </span><span class="hl-4">key:</span><span class="hl-1"> </span><span class="hl-2">&quot;session:user:2&quot;</span><span class="hl-1">, </span><span class="hl-4">value:</span><span class="hl-1"> { </span><span class="hl-4">token:</span><span class="hl-1"> </span><span class="hl-2">&quot;b&quot;</span><span class="hl-1"> } },</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-7">3600</span><span class="hl-1">, </span><span class="hl-9">// TTL: 1 hour</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">values</span>: <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">key</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">value</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>List of key-value pairs to store.</p>
</div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">ttlSec</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>Optional TTL in seconds applied to all keys.</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Number of successfully written keys.</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-8">Throws<a href="#throws-8" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Error if payload format is invalid, a key is invalid,
or Redis is not connected.</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L1057">PowerRedis.ts:1057</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="setone"><span>set<wbr/>One</span><a href="#setone" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="setone-1"><span class="tsd-kind-call-signature">setOne</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">key</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">ttlSec</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;OK&quot;</span><span class="tsd-signature-symbol">&gt;</span><a href="#setone-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Sets a single key in Redis with an optional TTL (time-to-live).</p>
<p>This is a convenience wrapper around the Redis <code>SET</code> command that:</p>
<ul>
<li>validates the key,</li>
<li>checks the Redis connection,</li>
<li>converts the value using <a href="#topayload" class="tsd-kind-method">toPayload</a>,</li>
<li>optionally sets expiration in <strong>seconds</strong>.</li>
</ul>
<hr>
<h3 id="behavior-6" class="tsd-anchor-link">Behavior<a href="#behavior-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>If <code>ttlSec</code> is a positive number → sends:
<ul>
<li><code>SET key value EX ttlSec</code></li>
</ul>
</li>
<li>If <code>ttlSec</code> is not provided or not a positive number → sends:
<ul>
<li><code>SET key value</code></li>
</ul>
</li>
</ul>
<p>The value is always converted to a string using <a href="#topayload" class="tsd-kind-method">toPayload</a>, which:</p>
<ul>
<li>JSON-encodes arrays and objects,</li>
<li>stringifies primitives (number, boolean, string, null, undefined).</li>
</ul>
<hr>
<h3 id="parameters-4" class="tsd-anchor-link">Parameters<a href="#parameters-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>key</code> — Redis key to set (must be a non-empty string).</li>
<li><code>value</code> — Any JSON-compatible value to store.</li>
<li><code>ttlSec</code> — Optional TTL in <strong>seconds</strong>. If provided and valid, the key
will automatically expire after this time.</li>
</ul>
<hr>
<h3 id="return-value-6" class="tsd-anchor-link">Return value<a href="#return-value-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Resolves to <code>&quot;OK&quot;</code> if Redis successfully stores the value.</li>
</ul>
<hr>
<h3 id="example-12" class="tsd-anchor-link">Example<a href="#example-12" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-9">// Store an object for 1 hour</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">.</span><span class="hl-0">setOne</span><span class="hl-1">(</span><span class="hl-2">&quot;session:user:42&quot;</span><span class="hl-1">, { </span><span class="hl-4">token:</span><span class="hl-1"> </span><span class="hl-2">&quot;abc&quot;</span><span class="hl-1">, </span><span class="hl-4">role:</span><span class="hl-1"> </span><span class="hl-2">&quot;admin&quot;</span><span class="hl-1"> }, </span><span class="hl-7">3600</span><span class="hl-1">);</span><br/><br/><span class="hl-9">// Store a simple string without expiration</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">.</span><span class="hl-0">setOne</span><span class="hl-1">(</span><span class="hl-2">&quot;config:mode&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;production&quot;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">key</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Redis key to set.</p>
</div></li><li><span><span class="tsd-kind-parameter">value</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>Value to store under the given key.</p>
</div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">ttlSec</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>Optional expiration time in seconds.</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;OK&quot;</span><span class="tsd-signature-symbol">&gt;</span></h4><p><code>&quot;OK&quot;</code> on success.</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-9">Throws<a href="#throws-9" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Error if the key is invalid or Redis is not connected.</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L964">PowerRedis.ts:964</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="tokeystring"><span>to<wbr/>Key<wbr/>String</span><a href="#tokeystring" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="tokeystring-1"><span class="tsd-kind-call-signature">toKeyString</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">parts</span><span class="tsd-signature-symbol">:</span> (<span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">number</span>)<span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><a href="#tokeystring-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Builds a <strong>safe Redis key string</strong> by joining multiple segments with <code>:</code><br>
(for example: <code>session:user:42</code>).</p>
<p>Unlike <code>toPatternString()</code>, this method is used for <strong>real Redis keys</strong>, not patterns.
Therefore, it performs stricter validation to ensure the final key is always valid,
predictable, and cannot accidentally be interpreted as a wildcard pattern.</p>
<p><strong>Validation rules for each segment:</strong></p>
<ul>
<li>Must be a non-empty string after trimming.</li>
<li>Must <strong>not</strong> contain the separator <code>:</code> (added automatically).</li>
<li>Must <strong>not</strong> contain any whitespace.</li>
<li>Must <strong>not</strong> contain Redis glob/wildcard characters:
<ul>
<li><code>*</code> (matches multiple characters)</li>
<li><code>?</code> (matches one character)</li>
<li><code>[</code> or <code>]</code> (character groups)</li>
</ul>
</li>
</ul>
<p>If a segment violates any rule, the method throws an error to prevent
generating ambiguous or unsafe Redis keys.</p>
<p><strong>Examples of valid results:</strong></p>
<ul>
<li><code>toKeyString(&quot;session&quot;, &quot;user&quot;, 42)</code> → <code>&quot;session:user:42&quot;</code></li>
<li><code>toKeyString(&quot;cache&quot;, &quot;products&quot;)</code> → <code>&quot;cache:products&quot;</code></li>
</ul>
<p><strong>Examples of invalid segments (will throw):</strong></p>
<ul>
<li><code>&quot; user &quot;</code> → becomes empty or contains spaces</li>
<li><code>&quot;role:*&quot;</code> → contains wildcard <code>*</code></li>
<li><code>&quot;a:b&quot;</code> → contains <code>:</code></li>
<li><code>&quot;key[name]&quot;</code> → contains <code>[</code> and <code>]</code></li>
</ul>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">parts</span>: (<span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">number</span>)<span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>List of string/number segments that will form the final key.</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span></h4><p>A safe, validated Redis key composed of all segments joined by <code>:</code>.</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-10">Throws<a href="#throws-10" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Error if any segment is empty, contains <code>:</code>, whitespace,
or wildcard characters (<code>* ? [ ]</code>).</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L315">PowerRedis.ts:315</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="topatternstring"><span>to<wbr/>Pattern<wbr/>String</span><a href="#topatternstring" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="topatternstring-1"><span class="tsd-kind-call-signature">toPatternString</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">parts</span><span class="tsd-signature-symbol">:</span> (<span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">number</span>)<span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><a href="#topatternstring-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Builds a Redis pattern string by joining multiple segments with <code>:</code><br>
(for example: <code>user:profile:123</code>).</p>
<p>This method validates every segment to ensure it is safe to use in Redis
pattern-based commands such as <code>SCAN</code>, <code>KEYS</code>, or <code>PUB/SUB</code> channels.</p>
<p><strong>Validation rules for each segment:</strong></p>
<ul>
<li>Must be a non-empty string after trimming.</li>
<li>Must <strong>not</strong> contain <code>:</code> (the delimiter is added automatically).</li>
<li>Must <strong>not</strong> contain spaces.</li>
</ul>
<p>If any segment violates these rules, the method throws an error.<br>
This helps prevent accidental creation of incorrect patterns and removes
ambiguity in Redis key names.</p>
<p><strong>Examples of valid results:</strong></p>
<ul>
<li><code>toPatternString(&quot;user&quot;, &quot;profile&quot;, 5)</code> → <code>&quot;user:profile:5&quot;</code></li>
<li><code>toPatternString(&quot;tasks&quot;, &quot;pending&quot;)</code> → <code>&quot;tasks:pending&quot;</code></li>
</ul>
<p><strong>Examples of invalid segments (will throw):</strong></p>
<ul>
<li><code>&quot; user &quot;</code> → becomes empty after trimming</li>
<li><code>&quot;some:value&quot;</code> → contains <code>:</code></li>
<li><code>&quot;my key&quot;</code> → contains a space</li>
</ul>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">parts</span>: (<span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">number</span>)<span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>List of string/number segments that form the pattern.</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span></h4><p>A single pattern string composed of all segments joined by <code>:</code>.</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-11">Throws<a href="#throws-11" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Error if any segment is empty, contains <code>:</code>, or contains whitespace.</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L268">PowerRedis.ts:268</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="topayload"><span>to<wbr/>Payload</span><a href="#topayload" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="topayload-1"><span class="tsd-kind-call-signature">toPayload</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">:</span> <a href="../types/Jsonish.html" class="tsd-signature-type tsd-kind-type-alias">Jsonish</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><a href="#topayload-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Converts a JavaScript value into a string that is safe to store in Redis.</p>
<p>Since Redis can only store strings, this method prepares any value for storage
while keeping enough information to restore the original type using <code>fromPayload()</code>.</p>
<p><strong>Conversion rules:</strong></p>
<ul>
<li>If the value is an <strong>array</strong> or <strong>object</strong> → serializes it to JSON.
This preserves structure for non-primitive data.</li>
<li>For all other types (number, string, boolean, null, undefined) →<br>
converts the value to a string using <code>String(value ?? &quot;&quot;)</code>.</li>
</ul>
<p>This ensures consistent and reversible encoding, making it easy to store
mixed-type data in Redis without manually calling <code>JSON.stringify</code>.</p>
<p><strong>Examples:</strong></p>
<ul>
<li><code>{ a: 1 }</code> → <code>&quot;{&quot;a&quot;:1}&quot;</code></li>
<li><code>[1, 2, 3]</code> → <code>&quot;[1,2,3]&quot;</code></li>
<li><code>true</code> → <code>&quot;true&quot;</code></li>
<li><code>42</code> → <code>&quot;42&quot;</code></li>
<li><code>null</code> → <code>&quot;&quot;</code></li>
<li><code>undefined</code> → <code>&quot;&quot;</code></li>
</ul>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">value</span>: <a href="../types/Jsonish.html" class="tsd-signature-type tsd-kind-type-alias">Jsonish</a></span><div class="tsd-comment tsd-typography"><p>Any JSON-compatible value.</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span></h4><p>A string ready to be stored in Redis.</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L435">PowerRedis.ts:435</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="xgroup"><span>xgroup</span><a href="#xgroup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="xgroup-1"><span class="tsd-kind-call-signature">xgroup</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">script</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">stream</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">group</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">from</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">mkstream</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#xgroup-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Wrapper around the Redis <code>XGROUP</code> command used for managing
<strong>consumer groups</strong> in Redis Streams.</p>
<p>This method provides a simple, typed interface to create groups
or perform other <code>XGROUP</code> subcommands, depending on the arguments passed.</p>
<p>It is typically used to <strong>create a consumer group</strong> for a stream:</p>
<pre><code><span class="hl-8">XGROUP</span><span class="hl-1"> </span><span class="hl-8">CREATE</span><span class="hl-1"> &lt;</span><span class="hl-4">stream</span><span class="hl-1">&gt; &lt;</span><span class="hl-6">group</span><span class="hl-1">&gt; &lt;</span><span class="hl-6">id</span><span class="hl-1">&gt; &lt;</span><span class="hl-6">MKSTREAM</span><span class="hl-1">?&gt;</span>
</code><button>Copy</button></pre>

<hr>
<h3 id="common-use-case-creating-a-consumer-group" class="tsd-anchor-link">Common use case: creating a consumer group<a href="#common-use-case-creating-a-consumer-group" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>When called like:</p>
<pre><code class="ts"><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">.</span><span class="hl-0">xgroup</span><span class="hl-1">(</span><span class="hl-2">&quot;CREATE&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;mystream&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;workers&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;$&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;MKSTREAM&quot;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>This will:</p>
<ul>
<li>Create the consumer group <code>workers</code> on stream <code>mystream</code>.</li>
<li>Start reading from the latest message (<code>$</code>).</li>
<li>Automatically create the stream if it doesn't exist (<code>MKSTREAM</code>).</li>
</ul>
<hr>
<h3 id="parameters-5" class="tsd-anchor-link">Parameters<a href="#parameters-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>script</code> — The <code>XGROUP</code> subcommand (most often <code>&quot;CREATE&quot;</code>).</li>
<li><code>stream</code> — The Redis stream key (e.g., <code>&quot;tasks:stream&quot;</code>).</li>
<li><code>group</code> — The name of the consumer group.</li>
<li><code>from</code> — The starting ID position:
<ul>
<li><code>&quot;$&quot;</code> to start from the latest entry</li>
<li><code>&quot;0&quot;</code> to read from the beginning</li>
<li>or any specific message ID</li>
</ul>
</li>
<li><code>mkstream</code> — Typically <code>&quot;MKSTREAM&quot;</code> to auto-create the stream if missing.</li>
</ul>
<hr>
<h3 id="return-value-7" class="tsd-anchor-link">Return value<a href="#return-value-7" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Resolves to <code>void</code>.<br>
Redis returns <code>&quot;OK&quot;</code> on success or an error if the group already exists
(unless using <code>CREATE</code> with <code>MKSTREAM</code> safely).</li>
</ul>
<hr>
<h3 id="example-safe-group-creation" class="tsd-anchor-link">Example: safe group creation<a href="#example-safe-group-creation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">.</span><span class="hl-0">xgroup</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;CREATE&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;queue:events&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;consumers&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;$&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;MKSTREAM&quot;</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<hr>
<h3 id="notes-1" class="tsd-anchor-link">Notes<a href="#notes-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>You should call this <strong>before consuming the stream</strong> using <code>XREADGROUP</code>.</li>
<li>If the group already exists, Redis will throw an error unless a different
subcommand is used.</li>
<li>This method does not validate the subcommand; it simply forwards arguments
to <code>XGROUP</code>.</li>
</ul>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">script</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>XGROUP subcommand (commonly <code>&quot;CREATE&quot;</code>).</p>
</div></li><li><span><span class="tsd-kind-parameter">stream</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Redis stream key.</p>
</div></li><li><span><span class="tsd-kind-parameter">group</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Consumer group name.</p>
</div></li><li><span><span class="tsd-kind-parameter">from</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>ID position to start from (<code>&quot;0&quot;</code>, <code>&quot;$&quot;</code>, or explicit ID).</p>
</div></li><li><span><span class="tsd-kind-parameter">mkstream</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Usually <code>&quot;MKSTREAM&quot;</code> to create the stream if missing.</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L1627">PowerRedis.ts:1627</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="xreadgroup"><span>xreadgroup</span><a href="#xreadgroup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="xreadgroup-1"><span class="tsd-kind-call-signature">xreadgroup</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">groupKey</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">group</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">consumer</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">blockKey</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">block</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">countKey</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">count</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">streamKey</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">stream</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">condition</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="#xreadgroup-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Reads messages from a Redis Stream <strong>as part of a consumer group</strong> using the
<code>XREADGROUP</code> command.</p>
<p>This method is a lightweight wrapper over:</p>
<pre><code><span class="hl-8">XREADGROUP</span><span class="hl-1"> </span><span class="hl-8">GROUP</span><span class="hl-1"> &lt;</span><span class="hl-4">group</span><span class="hl-1">&gt; &lt;</span><span class="hl-6">consumer</span><span class="hl-1">&gt;</span><br/><span class="hl-1">  </span><span class="hl-8">BLOCK</span><span class="hl-1"> &lt;</span><span class="hl-4">ms</span><span class="hl-1">&gt; </span><span class="hl-8">COUNT</span><span class="hl-1"> &lt;</span><span class="hl-4">n</span><span class="hl-1">&gt; </span><span class="hl-8">STREAMS</span><span class="hl-1"> &lt;</span><span class="hl-4">stream</span><span class="hl-1">&gt; &lt;</span><span class="hl-6">id</span><span class="hl-1">&gt;</span>
</code><button>Copy</button></pre>

<p>It is used for <strong>group-based, distributed consumption</strong> of stream messages.</p>
<hr>
<h3 id="how-it-works-1" class="tsd-anchor-link">How it works<a href="#how-it-works-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>XREADGROUP</code> ensures:</p>
<ul>
<li>Messages are <strong>assigned</strong> to a specific consumer.</li>
<li>Messages are not delivered twice within the same group unless pending.</li>
<li>Consumers can read from:
<ul>
<li><code>&quot;&gt;&quot;</code> — only new messages</li>
<li><code>&quot;0&quot;</code> — read pending messages</li>
</ul>
</li>
</ul>
<p>The method simply forwards all arguments directly to Redis, allowing flexible
configuration (BLOCK, COUNT, STREAMS, IDs).</p>
<hr>
<h3 id="parameters-6" class="tsd-anchor-link">Parameters<a href="#parameters-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>groupKey</code> — The <code>&quot;GROUP&quot;</code> keyword (always <code>&quot;GROUP&quot;</code>).</li>
<li><code>group</code> — Name of the consumer group.</li>
<li><code>consumer</code> — Name of the individual consumer (unique per worker).</li>
<li><code>blockKey</code> — <code>&quot;BLOCK&quot;</code> keyword.</li>
<li><code>block</code> — Block timeout in <strong>milliseconds</strong> (0 = block indefinitely).</li>
<li><code>countKey</code> — <code>&quot;COUNT&quot;</code> keyword.</li>
<li><code>count</code> — Maximum number of messages to return.</li>
<li><code>streamKey</code> — <code>&quot;STREAMS&quot;</code> keyword.</li>
<li><code>stream</code> — Name of the stream.</li>
<li><code>condition</code> — ID to start from:
<ul>
<li><code>&quot;&gt;&quot;</code> for new messages</li>
<li>last delivered ID for reprocessing</li>
</ul>
</li>
</ul>
<hr>
<h3 id="return-value-8" class="tsd-anchor-link">Return value<a href="#return-value-8" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Returns the raw Redis <code>XREADGROUP</code> response:</p>
<pre><code><span class="hl-1">[</span><br/><span class="hl-1">  [</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;&lt;stream&gt;&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    [</span><br/><span class="hl-1">      [</span><span class="hl-2">&quot;&lt;id1&gt;&quot;</span><span class="hl-1">, [</span><span class="hl-4">field</span><span class="hl-1">, </span><span class="hl-4">value</span><span class="hl-1">, </span><span class="hl-4">field</span><span class="hl-1">, </span><span class="hl-4">value</span><span class="hl-1">, ...]],</span><br/><span class="hl-1">      [</span><span class="hl-2">&quot;&lt;id2&gt;&quot;</span><span class="hl-1">, [...]],</span><br/><span class="hl-1">      ...</span><br/><span class="hl-1">    ]</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">]</span>
</code><button>Copy</button></pre>

<p>If no messages arrive before the BLOCK timeout → returns <code>null</code>.</p>
<hr>
<h3 id="example-13" class="tsd-anchor-link">Example<a href="#example-13" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">entries</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">redis</span><span class="hl-1">.</span><span class="hl-0">xreadgroup</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;GROUP&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;workers&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;worker-1&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;BLOCK&quot;</span><span class="hl-1">, </span><span class="hl-7">5000</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;COUNT&quot;</span><span class="hl-1">, </span><span class="hl-7">10</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;STREAMS&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;queue:events&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;&gt;&quot;</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">entries</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-3">for</span><span class="hl-1"> (</span><span class="hl-5">const</span><span class="hl-1"> [</span><span class="hl-8">stream</span><span class="hl-1">, </span><span class="hl-8">messages</span><span class="hl-1">] </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-4">entries</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">for</span><span class="hl-1"> (</span><span class="hl-5">const</span><span class="hl-1"> [</span><span class="hl-8">id</span><span class="hl-1">, </span><span class="hl-8">fields</span><span class="hl-1">] </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-4">messages</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Message ID:&quot;</span><span class="hl-1">, </span><span class="hl-4">id</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Payload:&quot;</span><span class="hl-1">, </span><span class="hl-4">fields</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<hr>
<h3 id="notes-2" class="tsd-anchor-link">Notes<a href="#notes-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Consumers must be registered via <code>XGROUP CREATE</code> beforehand.</li>
<li>Pending messages should be acknowledged later using <code>XACK</code>.</li>
<li>This method <strong>does not parse</strong> field-value pairs; it returns Redis raw data.
Parsing is usually handled at a higher layer.</li>
</ul>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">groupKey</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">group</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">consumer</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">blockKey</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">block</span>: <span class="tsd-signature-type">number</span></span></li><li><span><span class="tsd-kind-parameter">countKey</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">count</span>: <span class="tsd-signature-type">number</span></span></li><li><span><span class="tsd-kind-parameter">streamKey</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">stream</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">condition</span>: <span class="tsd-signature-type">string</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><p>The raw Redis response for XREADGROUP, or <code>null</code> on timeout.</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ihor-bielchenko/power-redis/blob/d7bbeeb051b971fd88d3af65820f73abc0121950/src/PowerRedis.ts#L1724">PowerRedis.ts:1724</a></li></ul></aside></div></li></ul></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Constructors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Constructors</summary><div><a href="#constructor"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Constructor"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Properties</summary><div><a href="#isstrictcheckconnection"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>is<wbr/>Strict<wbr/>Check<wbr/>Connection</span></a><ul><li><ul><li><ul><li><a href="#strict-mode-"><span>Strict mode ()</span></a></li><li><a href="#non-strict-mode-"><span>Non-<wbr/>strict mode ()</span></a></li><li><a href="#environment-variable-values"><span>Environment variable values</span></a></li><li><a href="#example-2"><span>Example</span></a></li></ul></li></ul></li></ul><a href="#redis"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>redis</span></a><ul><li><a href="#expected-capabilities"><span>Expected capabilities</span></a></li><li><a href="#responsibility-of-subclasses"><span>Responsibility of subclasses</span></a></li><li><a href="#example-implementation-in-a-subclass"><span>Example implementation in a subclass</span></a></li><li><a href="#notes"><span>Notes</span></a></li></ul></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Methods</summary><div><a href="#checkconnection"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>check<wbr/>Connection</span></a><a href="#dropmany"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>drop<wbr/>Many</span></a><ul><li><ul><li><ul><li><a href="#how-it-works"><span>How it works</span></a></li><li><a href="#performance-notes"><span>Performance notes</span></a></li><li><a href="#parameters"><span>Parameters</span></a></li><li><a href="#return-value"><span>Return value</span></a></li><li><a href="#example-4"><span>Example</span></a></li><li><a href="#error-handling"><span>Error handling</span></a></li></ul></li></ul></li></ul><a href="#expire"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>expire</span></a><ul><li><ul><li><ul><li><a href="#behavior"><span>Behavior</span></a></li><li><a href="#use-cases"><span>Use cases</span></a></li><li><a href="#example-5"><span>Example</span></a></li></ul></li></ul></li></ul><a href="#fromkeystring"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>from<wbr/>Key<wbr/>String</span></a><a href="#frompayload"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>from<wbr/>Payload</span></a><a href="#getlist"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>List</span></a><ul><li><ul><li><ul><li><a href="#modes-of-operation"><span>Modes of operation</span></a></li><li><ul><li><a href="#1-non-destructive-mode-"><span>1. <wbr/>Non-<wbr/>destructive mode ()</span></a></li><li><a href="#2-destructive-mode-"><span>2. <wbr/>Destructive mode ()</span></a></li></ul></li><li><a href="#parameters-1"><span>Parameters</span></a></li><li><a href="#return-value-1"><span>Return value</span></a></li><li><a href="#example-non-destructive"><span>Example (non-<wbr/>destructive)</span></a></li><li><a href="#example-destructive"><span>Example (destructive)</span></a></li></ul></li></ul></li></ul><a href="#getlistiterator"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>List<wbr/>Iterator</span></a><ul><li><ul><li><ul><li><a href="#modes-of-operation-1"><span>Modes of operation</span></a></li><li><ul><li><a href="#1-destructive-mode-"><span>1. <wbr/>Destructive mode ()</span></a></li><li><a href="#2-non-destructive-mode-"><span>2. <wbr/>Non-<wbr/>destructive mode ()</span></a></li></ul></li><li><a href="#important-notes"><span>Important notes</span></a></li><li><a href="#usage-example"><span>Usage example</span></a></li></ul></li></ul></li></ul><a href="#getmany"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Many</span></a><ul><li><ul><li><ul><li><a href="#parameters-2"><span>Parameters</span></a></li><li><a href="#return-value-2"><span>Return <wbr/>Value</span></a></li><li><a href="#example-7"><span>Example</span></a></li><li><a href="#behavior-notes"><span>Behavior <wbr/>Notes</span></a></li></ul></li></ul></li></ul><a href="#getone"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>One</span></a><a href="#incr"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>incr</span></a><ul><li><ul><li><ul><li><a href="#behavior-1"><span>Behavior</span></a></li><li><a href="#value-type"><span>Value type</span></a></li><li><a href="#use-cases-1"><span>Use cases</span></a></li></ul></li></ul></li></ul><a href="#keys"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>keys</span></a><a href="#lpopcountcompat"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>lpop<wbr/>Count<wbr/>Compat</span></a><a href="#pttl"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>pttl</span></a><ul><li><ul><li><ul><li><a href="#behavior-2"><span>Behavior</span></a></li><li><a href="#use-cases-2"><span>Use cases</span></a></li></ul></li></ul></li></ul><a href="#pushmany"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>push<wbr/>Many</span></a><ul><li><ul><li><ul><li><a href="#behavior-3"><span>Behavior</span></a></li><li><ul><li><a href="#1-without-ttl-not-provided-or-invalid"><span>1. <wbr/>Without <wbr/>TTL ( not provided or invalid)</span></a></li><li><a href="#2-with-ttl-is-a-positive-number"><span>2. <wbr/>With <wbr/>TTL ( is a positive number)</span></a></li></ul></li><li><a href="#value-conversion"><span>Value conversion</span></a></li><li><a href="#return-value-3"><span>Return value</span></a></li><li><a href="#example-8"><span>Example</span></a></li></ul></li></ul></li></ul><a href="#pushone"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>push<wbr/>One</span></a><ul><li><ul><li><ul><li><a href="#behavior-4"><span>Behavior</span></a></li><li><ul><li><a href="#1-without-ttl-not-provided-or-invalid-1"><span>1. <wbr/>Without <wbr/>TTL ( not provided or invalid)</span></a></li><li><a href="#2-with-ttl-is-a-positive-number-1"><span>2. <wbr/>With <wbr/>TTL ( is a positive number)</span></a></li></ul></li><li><a href="#value-conversion-1"><span>Value conversion</span></a></li><li><a href="#return-value-4"><span>Return value</span></a></li><li><a href="#example-9"><span>Example</span></a></li></ul></li></ul></li></ul><a href="#script"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>script</span></a><ul><li><ul><li><ul><li><a href="#behavior-5"><span>Behavior</span></a></li><li><a href="#use-cases-3"><span>Use cases</span></a></li><li><a href="#example-10"><span>Example</span></a></li></ul></li></ul></li></ul><a href="#setmany"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>set<wbr/>Many</span></a><ul><li><ul><li><ul><li><a href="#behavior-without-ttl"><span>Behavior without <wbr/>TTL</span></a></li><li><a href="#behavior-with-ttl"><span>Behavior with <wbr/>TTL</span></a></li><li><a href="#parameters-3"><span>Parameters</span></a></li><li><a href="#return-value-5"><span>Return value</span></a></li><li><a href="#example-11"><span>Example</span></a></li></ul></li></ul></li></ul><a href="#setone"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>set<wbr/>One</span></a><ul><li><ul><li><ul><li><a href="#behavior-6"><span>Behavior</span></a></li><li><a href="#parameters-4"><span>Parameters</span></a></li><li><a href="#return-value-6"><span>Return value</span></a></li><li><a href="#example-12"><span>Example</span></a></li></ul></li></ul></li></ul><a href="#tokeystring"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>to<wbr/>Key<wbr/>String</span></a><a href="#topatternstring"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>to<wbr/>Pattern<wbr/>String</span></a><a href="#topayload"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>to<wbr/>Payload</span></a><a href="#xgroup"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>xgroup</span></a><ul><li><ul><li><ul><li><a href="#common-use-case-creating-a-consumer-group"><span>Common use case: creating a consumer group</span></a></li><li><a href="#parameters-5"><span>Parameters</span></a></li><li><a href="#return-value-7"><span>Return value</span></a></li><li><a href="#example-safe-group-creation"><span>Example: safe group creation</span></a></li><li><a href="#notes-1"><span>Notes</span></a></li></ul></li></ul></li></ul><a href="#xreadgroup"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>xreadgroup</span></a><ul><li><a href="#how-it-works-1"><span>How it works</span></a></li><li><a href="#parameters-6"><span>Parameters</span></a></li><li><a href="#return-value-8"><span>Return value</span></a></li><li><a href="#example-13"><span>Example</span></a></li><li><a href="#notes-2"><span>Notes</span></a></li></ul></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">power-redis API Docs - v2.0.8</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
